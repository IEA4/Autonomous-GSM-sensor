## Автономный GSM-датчик

### Автономный умный датчик с передачей данных по мобильной связи

Посредством датчика устройство призводит проверку объекта слежения через заданный в коде интервал времени. При обнаружении владельцу отправляется СМС-сообщение в виде "заряд аккумулятора в мВ, 1". На прибор можно звонить. Номерам из белого списка включается микрофон датчика. На каждый такой вызов отвечает сообщением с зарядом аккумулятора. При снижении напряжения ниже заданного отправляет оповещение об этом. При критическо низком напряжении уведомляет об этом и отключается.

+ В папке "Autonom_GSM-detector" --- схема соединений, порядок включения, пример приходящих сообщений, код автономного датчика удалённого наблюдения
+ "Test_IR_detector" --- для теста работоспособности пары ИК-светодиод/ИК-фотодиод
+ "Test_AT_command"  --- для проверки мониторе порта работы связки Arduino+SIM800L на выполнение AT-команд. Последние смотреть в руководстве SIM800_Series_AT_Command_Manual_V1.09.
+ SIM800HL_Hardware_Design_V2.01.pdf --- руководство пользователя GSM-модулем

#### ___Примечание:___

В папке bibl находится библиотека FastDefFunc.  Содержит несколько "убыстрённых" стандартных функций.  Можно их и не использовать (что нежелательно), тогда нужно в имеющихся в коде "какая_то_стандартная_функцияFast" убрать суффикс "Fast". Все остальные нестандартные библиотеки можно найти [у Алекса Гайвера](https://github.com/GyverLibs).

Если SIM800L на AT-команду  "AT+CREG?" отвечает "+CREG: 0,0", т.е. при невозможности регистрации в сети, можно попробовать починить gsm-модуль, выполнив команду AT+CFUN? (режим работы приёмо-передатчика) в скетче "Test_AT_command.ino". Если значение отличается от "1", установите параметр командой AT+CFUN=1 (включение полного функционала). Если на SIM800L не мигает встроенный светодиод, хотя сам gsm-модуль отвечает на AT-команды, нужно попробовать отправить команду "AT+CNETLIGHT=1". Нередко светодиод бывает припаян неправильно: правильная ориентация -- зелёным концом к пину RING. В диапазоне напряжений от 3.5 до 4.2В стабильно работают те модули SIM800L, у которых при включенном состоянии на пине RST постоянные 2,8В относительно земли.
